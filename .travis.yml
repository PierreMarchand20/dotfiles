language: minimal

services:
  - docker

# Compiler selection
matrix:
  include:
    - os: linux
      dist: xenial
      group: travis_latest
      name: "Ubuntu"
      env: TESTING_ENV=ubuntu_mpich

    - os: linux
      dist: xenial
      group: travis_latest
      name: "Debian"
      env: TESTING_ENV=debian_mpich



install: 
  - docker pull pierremarchand/scientific_development_env:${TESTING_ENV}
  -mdocker run -itd --name ${TESTING_ENV} pierremarchand/scientific_development_env:${TESTING_ENV}
  

script:
  - docker exec -it ${TESTING_ENV} bash -c 'yadm clone --bootstrap https://github.com/PierreMarchand20/dotfiles.git'
  - docker exec -it ${TESTING_ENV} bash -c 'yadm bootstrap'
